
import {createRequire as ___nfyCreateRequire} from "module";
import {fileURLToPath as ___nfyFileURLToPath} from "url";
import {dirname as ___nfyPathDirname} from "path";
let __filename=___nfyFileURLToPath(import.meta.url);
let __dirname=___nfyPathDirname(___nfyFileURLToPath(import.meta.url));
let require=___nfyCreateRequire(import.meta.url);


// netlify/function/accessToken.ts
import { google } from "googleapis";
var accessToken_default = async (request) => {
  const data = await request.json();
  const { code, clientId, clientSecret, env } = data;
  const oauth = new google.auth.OAuth2(clientId, clientSecret, env);
  const { tokens } = await oauth.getToken(code);
  oauth.setCredentials(tokens);
  return new Response(JSON.stringify(tokens.access_token), { status: 200 });
};
export {
  accessToken_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibmV0bGlmeS9mdW5jdGlvbi9hY2Nlc3NUb2tlbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgZ29vZ2xlIH0gZnJvbSBcImdvb2dsZWFwaXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0KSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gIGNvbnN0IHsgY29kZSwgY2xpZW50SWQsIGNsaWVudFNlY3JldCwgZW52IH0gPSBkYXRhO1xyXG5cclxuICAvLyBVc2UgdGhlIGdvb2dsZSBhdXRoIHRvIGF1dGhlbnRpY2F0ZSB5b3Vyc2VsZiBhZ2FpbnN0IHRoZSBzZXJ2ZXIuXHJcbiAgY29uc3Qgb2F1dGggPSBuZXcgZ29vZ2xlLmF1dGguT0F1dGgyKGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGVudik7XHJcblxyXG4gIC8vIFJldHJpZXZlIHRoZSB0b2tlbnMgd2l0aCB0aGUgZ2l2ZW4gY29kZSBmcm9tIHRoZSBwYXJhbWV0ZXJzXHJcbiAgY29uc3QgeyB0b2tlbnMgfSA9IGF3YWl0IG9hdXRoLmdldFRva2VuKGNvZGUpO1xyXG5cclxuICAvLyBWZXJ5IGltcG9ydGFudCB0byBzZXQgdGhlIGNyZWRlbnRpYWxzIG9yIGVsc2UgR29vZ2xlIHdpbGwgbm90IGtub3cgdGhhdFxyXG4gIC8vIHRoZSBwZXJtaXNzaW9uIHdhcyBnaXZlbi5cclxuICBvYXV0aC5zZXRDcmVkZW50aWFscyh0b2tlbnMpO1xyXG5cclxuICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHRva2Vucy5hY2Nlc3NfdG9rZW4pLCB7IHN0YXR1czogMjAwIH0pO1xyXG59O1xyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7O0FBQUEsU0FBUyxjQUFjO0FBRXZCLElBQU8sc0JBQVEsT0FBTyxZQUFxQjtBQUN6QyxRQUFNLE9BQU8sTUFBTSxRQUFRLEtBQUs7QUFDaEMsUUFBTSxFQUFFLE1BQU0sVUFBVSxjQUFjLElBQUksSUFBSTtBQUc5QyxRQUFNLFFBQVEsSUFBSSxPQUFPLEtBQUssT0FBTyxVQUFVLGNBQWMsR0FBRztBQUdoRSxRQUFNLEVBQUUsT0FBTyxJQUFJLE1BQU0sTUFBTSxTQUFTLElBQUk7QUFJNUMsUUFBTSxlQUFlLE1BQU07QUFFM0IsU0FBTyxJQUFJLFNBQVMsS0FBSyxVQUFVLE9BQU8sWUFBWSxHQUFHLEVBQUUsUUFBUSxJQUFJLENBQUM7QUFDMUU7IiwKICAibmFtZXMiOiBbXQp9Cg==
